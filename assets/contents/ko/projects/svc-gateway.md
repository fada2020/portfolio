# 아키텍처

- Nginx + Lua 스크립트에서 Spring Boot + Netty로 마이그레이션.
- 토큰 검증 캐시(Redis), 서킷 브레이커, 백프레셔 도입.

## 트레이드오프
- 장점: 가시성 향상, 타입 기반 설정, 블루/그린 무중단 배포.
- 단점: 저부하 구간에서 소폭의 기본 CPU 상승.

## 지표
- p98 지연: 210ms → 132ms
- 에러율: 0.7% → 0.2%

## 회고
- 초기부터 부하 테스트와 트래픽 섀도잉에 투자하면 큰 효과가 있었다.
